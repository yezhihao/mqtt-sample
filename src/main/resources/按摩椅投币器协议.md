按摩椅投币器协议

1, 将投币器可上报的数据分为四类：
	1.1 服务累计值 
		1.1.1 目前已收到的脉冲数量
		1.1.2 目前已工作的时间(分钟数)
		1.1.3 目前已收到的钞票数量
	1.2 服务当前值
		1.2.1 当次服务累计脉冲数量
		1.2.2 当前服务剩余秒数
	1.3 系统参数
		1.3.1 设置费率
		1.3.2 时间
		1.3.3 功能设置
		1.3.4 奖励模式
		1.3.5 错误状态
		1.3.6 韧体版本
	1.4 事件
		1.4.1 事件总数(考虑无需上送)
		1.4.2 事件数据

2, 数据上报定义
	所有数据的值都是字符串的形式
	上行通道使用Topic： /MC/out/:id/* (*值以下具体定义下一级的路径)
	Payload为: value@key,value@key
	若同一个payload裡的字节数多于200字节则将各项回报分割回报2或多次
	例如: 
	5@R_P,5@R_M,170218165021@D_T,M=1&S=1&C=1&E=1&B=100@O_B,A=100000000000000000000000000000000000000000000000&B=20000000000000000000000000000&C=3000000000000000000000000000000000000@O_C
    及   
    "ERROR STRING1"&"ERROR STRING2"&"ERROR STRING3"@ERR
	其中:
  		'@' 为半形(0x40)
  		',' 为半形(0x2C)
	2.1 累计值
		Topic: /MC/123/out/accumulated
		Payload: 
			A_P指"目前已收到的脉冲数量"
  			A_M指"目前已收到的钞票数量"
  			A_B指"目前已工作的时间(分钟数)"
		上送条件: 将此类资讯作为心跳,故每隔1分钟上送一次
		如： 3000@A_P,15000@A_M,1500@A_B
	2.2 当前值
		Topic: /MC/out/:id/current
		Payload: 
			C_P指当次服务累计脉冲数量
			C_S指当前服务剩余秒数 
		上送条件: 服务开始时上送一次（设备内做debounce,连续投币后再上送,避免投一次币送一次）,服务结束时上送一次
		如： 开始时：4@C_P,20@C_S
			结束时：4@C_P,0@C_S
	2.3 系统参数
		Topic: /MC/out/:id/setting
		Payload: 
		  R_P   费率脉衝(5@R_P)
		  R_M   费率分钟(5@R_M)
		  D_T   时间日期(170218165021@D_T)
		  O_B   奖励模式(M=1&S=1&C=1&E=1&B=100@O_B)
		  O_C   其他设定(A=1&B=2&C=3@O_C)
		  ERR   错误状态 ("ERROR STRING1"&"ERROR STRING2"&"ERROR STRING3"@ERR)
 		  FWV   终端韧体版本("ver888"@FWV)
		上送条件: 将此类资讯每隔1天上送一次
		例如: 全报的payload相似于
  5@R_P,5@R_M,170218165021@D_T,M=1&S=1&C=1&E=1&B=100@O_B,A=1&B=2&C=3@O_C,"ERROR STRING1"&"ERROR STRING2"&"ERROR STRING3"@ERR,"ver888"@FWV	
	2.4 事件
		Topic: /MC/out/:id/event
		Payload: 事件字符串
		上送条件: 此类资讯发生时立刻上送
		如： “OPEN CASHBOX”

3, 下行命令定义
	所有数据的值都是字符串的形式
	下行通道使用Topic： /MC/in/:id/* (*值以下具体定义下一级的路径)
	设备端往相同Topic上回复确认 ACK 或 NAK,若有错误项目名称或数值无法Apply则回报NAK, 若所列项目皆符合标淮则回应ACK
	若想即时查询所设数值则publish不带payload的封包
      Topic: /MC/out/:id/setting
      Payload: (NULL)
	只可操作可写资料： 
	3.1 服务累计值 
		3.1.1 目前已收到的脉冲数量
		3.1.2 目前已工作的时间(分钟数)
		3.1.3 目前已收到的钞票数量
			Topic: /MC/in/:id/accumulated
			Payload: clear
	3.2 系统参数
		3.2.1 设置费率
			Topic: /MC/in/:id/setting
			Payload: 费率脉衝@R_P,费率分钟@R_M
		3.2.2 时间
			Topic: /MC/in/:id/setting
			Payload: 时间@D_T	
		3.2.3 功能设置
			Topic: /MC/in/:id/setting
			Payload: 功能值@O_C			
		3.2.4 奖励模式（预留）
			Topic: /MC/in/:id/setting
			Payload: 奖励模式值@O_B
		3.2.5 一次全部重设的payload为：
			5@R_P,5@R_M,170218165021@D_T,M=1&S=1&C=1&E=1&B=100@O_B,A=1&B=2&C=3@O_C		

